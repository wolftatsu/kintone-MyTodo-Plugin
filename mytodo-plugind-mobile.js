// Generated by CoffeeScript 1.3.3
(function() {
  var loadCSS;

  loadCSS = function(href) {
    return document.write('<link rel="stylesheet" type="text/css" href="' + href + '" />');
  };

  kintone.events.on('mobile.app.record.index.show', function(event) {
    var $dig, $icon, contents, el;
    console.log("index page");
    el = kintone.mobile.app.getHeaderSpaceElement();
    console.log(el);
    $dig = $('<div>').attr({
      'id': 'dialog',
      'title': 'スペシャルインプット画面'
    });
    contents = "<div class='viewport'>\n    <div class='flipsnap'>\n        <div class='item'>1</div>\n        <div class='item'>2</div>\n        <div class='item'>3</div>\n    </div>\n</div>";
    $(contents).appendTo($dig);
    console.log($dig);
    $dig.appendTo("body");
    $icon = $('<img>').attr('src', '//dl.dropboxusercontent.com/u/92165755/img/button-doc.png');
    $icon.css({
      width: '20px',
      height: '20px',
      position: 'relative',
      top: '5px',
      left: '15px',
      cursor: 'pointer'
    });
    $(el).append($icon);
    return $icon.on("click", function() {
      console.log("new button clicked");
      $("#dialog").dialog();
      sleep(500);
      Flipsnap('.flipsnap');
      return console.log("complete!");
    });
  });

  loadCSS('//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css');

  loadCSS('//dl.dropboxusercontent.com/u/92165755/css/flip.css');

}).call(this);
